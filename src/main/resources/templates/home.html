<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MYAN MYAN LEARN - Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/js/tailwind-config.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      .show {
        opacity: 1 !important;
        visibility: visible !important;
        transform: translateY(0) !important;
      }
    </style>
  </head>
  <body
    class="min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-800 font-sans text-gray-800 flex flex-col"
  >
    <!-- Navbar -->
    <nav
      class="fixed top-0 left-0 right-0 z-50 bg-white/5 backdrop-blur-xl border-b border-white/10 shadow-2xl"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-18">
          <!-- Brand Section -->
          <div class="flex items-center gap-2 group cursor-pointer">
            <div class="relative">
              <div
                class="absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl blur-lg opacity-0 group-hover:opacity-20 transition-opacity duration-300"
              ></div>
              <div
                class="relative p-2 group-hover:scale-105 transition-all duration-300"
              >
                <img
                  th:src="@{/images/logo.svg}"
                  alt="Myan Myan Learn"
                  class="w-12 h-12 drop-shadow-lg"
                />
              </div>
            </div>
            <div class="flex flex-col">
              <div
                class="text-white font-bold text-xl brand-font tracking-wide"
              >
                Myan Myan Learn
              </div>
              <div
                class="text-white/70 text-xs font-medium tracking-wider uppercase"
              >
                Learning Platform
              </div>
            </div>
          </div>
          <div class="flex items-center gap-4">
            <!-- Language Selector -->
            <div
              class="relative cursor-pointer h-12 px-3 py-2 rounded-xl bg-white/5 backdrop-blur-md text-white text-sm font-medium transition-all duration-300 flex items-center gap-2 hover:bg-white/15 hover:scale-105 hover:shadow-xl border border-white/10 group"
              id="languageMenu"
            >
              <div class="relative flex items-center gap-2">
                <div
                  class="w-6 h-6 rounded-lg bg-white/10 flex items-center justify-center text-sm"
                >
                  <span id="currentLanguageFlag" class="text-sm">üá∫üá∏</span>
                </div>
                <span id="currentLanguage" class="font-semibold text-sm"
                  >EN</span
                >
                <i
                  class="fas fa-chevron-down text-xs opacity-60 transition-transform duration-200"
                ></i>
              </div>

              <div
                class="absolute top-full right-0 mt-2 bg-white rounded-xl shadow-2xl min-w-[240px] overflow-hidden opacity-0 invisible transform -translate-y-2 transition-all duration-300 z-[1001] border border-gray-200"
                id="languageDropdown"
              >
                <!-- Language Header -->
                <div
                  class="bg-gradient-to-r from-slate-700 to-slate-800 text-white p-3"
                >
                  <div class="flex items-center gap-2">
                    <div
                      class="w-8 h-8 rounded-lg bg-white/20 flex items-center justify-center"
                    >
                      <i class="fas fa-globe text-white text-sm"></i>
                    </div>
                    <div>
                      <h3 class="font-semibold text-sm">Language</h3>
                      <p class="text-xs opacity-80">Choose language</p>
                    </div>
                  </div>
                </div>

                <!-- Language Options -->
                <div class="py-1 max-h-60 overflow-y-auto">
                  <div
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 text-sm cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:text-slate-800 group language-item"
                    data-lang="en"
                  >
                    <div
                      class="w-6 h-6 rounded-md bg-blue-50 flex items-center justify-center text-sm"
                    >
                      <span class="text-sm">üá∫üá∏</span>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">English</div>
                    </div>
                    <i
                      class="fas fa-check text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs"
                    ></i>
                  </div>

                  <div
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 text-sm cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:text-slate-800 group language-item"
                    data-lang="my"
                  >
                    <div
                      class="w-6 h-6 rounded-md bg-green-50 flex items-center justify-center text-sm"
                    >
                      <span class="text-sm">üá≤üá≤</span>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">·Äô·Äº·Äî·Ä∫·Äô·Ä¨</div>
                    </div>
                    <i
                      class="fas fa-check text-green-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs"
                    ></i>
                  </div>

                  <div
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 text-sm cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:text-slate-800 group language-item"
                    data-lang="zh"
                  >
                    <div
                      class="w-6 h-6 rounded-md bg-red-50 flex items-center justify-center text-sm"
                    >
                      <span class="text-sm">üá®üá≥</span>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">‰∏≠Êñá</div>
                    </div>
                    <i
                      class="fas fa-check text-red-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs"
                    ></i>
                  </div>

                  <div
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 text-sm cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:text-slate-800 group language-item"
                    data-lang="ne"
                  >
                    <div
                      class="w-6 h-6 rounded-md bg-orange-50 flex items-center justify-center text-sm"
                    >
                      <span class="text-sm">üá≥üáµ</span>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">‡§®‡•á‡§™‡§æ‡§≤‡•Ä</div>
                    </div>
                    <i
                      class="fas fa-check text-orange-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs"
                    ></i>
                  </div>

                  <div
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 text-sm cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:text-slate-800 group language-item"
                    data-lang="vi"
                  >
                    <div
                      class="w-6 h-6 rounded-md bg-yellow-50 flex items-center justify-center text-sm"
                    >
                      <span class="text-sm">üáªüá≥</span>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">Ti·∫øng Vi·ªát</div>
                    </div>
                    <i
                      class="fas fa-check text-yellow-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs"
                    ></i>
                  </div>

                  <div
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 text-sm cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:text-slate-800 group language-item"
                    data-lang="uz"
                  >
                    <div
                      class="w-6 h-6 rounded-md bg-teal-50 flex items-center justify-center text-sm"
                    >
                      <span class="text-sm">üá∫üáø</span>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">O'zbek</div>
                    </div>
                    <i
                      class="fas fa-check text-teal-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs"
                    ></i>
                  </div>

                  <div
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 text-sm cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:text-slate-800 group language-item"
                    data-lang="si"
                  >
                    <div
                      class="w-6 h-6 rounded-md bg-purple-50 flex items-center justify-center text-sm"
                    >
                      <span class="text-sm">üá±üá∞</span>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω</div>
                    </div>
                    <i
                      class="fas fa-check text-purple-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs"
                    ></i>
                  </div>

                  <div
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 text-sm cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:text-slate-800 group language-item"
                    data-lang="hi"
                  >
                    <div
                      class="w-6 h-6 rounded-md bg-indigo-50 flex items-center justify-center text-sm"
                    >
                      <span class="text-sm">üáÆüá≥</span>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</div>
                    </div>
                    <i
                      class="fas fa-check text-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs"
                    ></i>
                  </div>

                  <div
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 text-sm cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:text-slate-800 group language-item"
                    data-lang="ja"
                  >
                    <div
                      class="w-6 h-6 rounded-md bg-pink-50 flex items-center justify-center text-sm"
                    >
                      <span class="text-sm">üáØüáµ</span>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">Êó•Êú¨Ë™û</div>
                    </div>
                    <i
                      class="fas fa-check text-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs"
                    ></i>
                  </div>

                  <div
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 text-sm cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:text-slate-800 group language-item"
                    data-lang="bd"
                  >
                    <div
                      class="w-6 h-6 rounded-md bg-green-50 flex items-center justify-center text-sm"
                    >
                      <span class="text-sm">üáßüá©</span>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</div>
                    </div>
                    <i
                      class="fas fa-check text-green-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs"
                    ></i>
                  </div>
                </div>
              </div>
            </div>

            <!-- User Profile -->
            <div
              class="relative flex items-center gap-3 h-12 px-3 py-2 bg-white/5 backdrop-blur-md rounded-xl cursor-pointer transition-all duration-300 text-white font-medium text-sm hover:bg-white/15 hover:scale-105 hover:shadow-xl border border-white/10 group"
              id="profileMenu"
            >
              <div class="relative flex items-center gap-2">
                <div
                  class="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-sm shadow-lg"
                >
                  JD
                </div>
                <div class="flex flex-col">
                  <span class="text-sm font-semibold">John Doe</span>
                  <span class="text-xs opacity-70">Premium</span>
                </div>
                <i
                  class="fas fa-chevron-down text-xs opacity-60 transition-transform duration-200"
                ></i>
              </div>

              <div
                class="absolute top-full right-0 mt-2 bg-white rounded-xl shadow-2xl min-w-[280px] overflow-hidden opacity-0 invisible transform -translate-y-2 transition-all duration-300 z-[1001] border border-gray-200"
                id="profileDropdown"
              >
                <!-- Profile Header -->
                <div
                  class="bg-gradient-to-r from-slate-700 to-slate-800 text-white p-4"
                >
                  <div class="flex items-center gap-3">
                    <div
                      class="w-12 h-12 rounded-lg bg-white/20 flex items-center justify-center text-white font-bold text-lg shadow-lg"
                    >
                      JD
                    </div>
                    <div>
                      <h3 class="font-semibold text-sm">John Doe</h3>
                      <p class="text-xs opacity-80">john.doe@example.com</p>
                      <div class="flex items-center gap-1 mt-1">
                        <i class="fas fa-crown text-yellow-300 text-xs"></i>
                        <span class="text-xs font-medium">Premium</span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Menu Items -->
                <div class="py-2">
                  <a
                    href="#"
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 no-underline transition-all duration-200 text-sm hover:bg-slate-50 hover:text-slate-800 group"
                  >
                    <div
                      class="w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center"
                    >
                      <i class="fas fa-user text-blue-600 text-sm"></i>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">My Profile</div>
                    </div>
                    <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                  </a>

                  <a
                    href="#"
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 no-underline transition-all duration-200 text-sm hover:bg-slate-50 hover:text-slate-800 group"
                  >
                    <div
                      class="w-8 h-8 rounded-lg bg-green-50 flex items-center justify-center"
                    >
                      <i class="fas fa-cog text-green-600 text-sm"></i>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">Settings</div>
                    </div>
                    <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                  </a>

                  <a
                    href="#"
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 no-underline transition-all duration-200 text-sm hover:bg-slate-50 hover:text-slate-800 group"
                  >
                    <div
                      class="w-8 h-8 rounded-lg bg-purple-50 flex items-center justify-center"
                    >
                      <i class="fas fa-chart-line text-purple-600 text-sm"></i>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">Progress</div>
                    </div>
                    <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                  </a>

                  <a
                    href="#"
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 no-underline transition-all duration-200 text-sm hover:bg-slate-50 hover:text-slate-800 group"
                  >
                    <div
                      class="w-8 h-8 rounded-lg bg-yellow-50 flex items-center justify-center"
                    >
                      <i class="fas fa-trophy text-yellow-600 text-sm"></i>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">Achievements</div>
                    </div>
                    <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                  </a>

                  <div class="h-px bg-gray-200 my-2"></div>

                  <a
                    href="#"
                    class="flex items-center gap-3 px-4 py-2 text-gray-700 no-underline transition-all duration-200 text-sm hover:bg-slate-50 hover:text-slate-800 group"
                  >
                    <div
                      class="w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center"
                    >
                      <i
                        class="fas fa-question-circle text-indigo-600 text-sm"
                      ></i>
                    </div>
                    <div class="flex-1">
                      <div class="font-medium text-sm">Help & Support</div>
                    </div>
                    <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                  </a>

                  <form th:action="@{/logout}" method="POST" class="w-full">
                    <button
                      type="submit"
                      class="w-full flex items-center gap-3 px-4 py-2 text-red-600 no-underline transition-all duration-200 text-sm hover:bg-red-50 hover:text-red-700 group text-left"
                    >
                      <div
                        class="w-8 h-8 rounded-lg bg-red-50 flex items-center justify-center"
                      >
                        <i class="fas fa-sign-out-alt text-red-600 text-sm"></i>
                      </div>
                      <div class="flex-1 text-left">
                        <div class="font-medium text-sm">Logout</div>
                      </div>
                      <i class="fas fa-chevron-right text-xs text-red-400"></i>
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <script>
      // Language selector functionality
      const languageMenu = document.getElementById("languageMenu");
      const languageDropdown = document.getElementById("languageDropdown");
      const currentLanguage = document.getElementById("currentLanguage");
      const currentLanguageFlag = document.getElementById(
        "currentLanguageFlag"
      );
      const languageItems = document.querySelectorAll(".language-item");

      // Toggle language dropdown on click
      languageMenu.addEventListener("click", function (e) {
        e.stopPropagation();
        languageDropdown.classList.toggle("show");

        // Rotate chevron icon
        const chevron = languageMenu.querySelector(".fa-chevron-down");
        if (languageDropdown.classList.contains("show")) {
          chevron.style.transform = "rotate(180deg)";
        } else {
          chevron.style.transform = "rotate(0deg)";
        }
      });

      // Handle language selection
      languageItems.forEach((item) => {
        item.addEventListener("click", function (e) {
          e.preventDefault();

          // Remove active class from all items
          languageItems.forEach((lang) => lang.classList.remove("active"));

          // Add active class to selected item
          this.classList.add("active");

          // Update current language display
          const languageName = this.querySelector(".font-semibold").textContent;
          const languageFlag = this.querySelector("span").textContent;
          currentLanguage.textContent = languageName;
          currentLanguageFlag.textContent = languageFlag;

          // Store language preference
          const langCode = this.getAttribute("data-lang");
          localStorage.setItem("selectedLanguage", langCode);

          // Close dropdown
          languageDropdown.classList.remove("show");

          // Show language change confirmation
          alert(`Language changed to ${languageName}!`);
        });
      });

      // Close language dropdown when clicking outside
      document.addEventListener("click", function (e) {
        if (!languageMenu.contains(e.target)) {
          languageDropdown.classList.remove("show");

          // Reset chevron rotation
          const chevron = languageMenu.querySelector(".fa-chevron-down");
          chevron.style.transform = "rotate(0deg)";
        }
      });

      // Prevent language dropdown from closing when clicking inside it
      languageDropdown.addEventListener("click", function (e) {
        e.stopPropagation();
      });

      // Load saved language preference on page load
      document.addEventListener("DOMContentLoaded", function () {
        const savedLanguage = localStorage.getItem("selectedLanguage");
        if (savedLanguage) {
          const savedItem = document.querySelector(
            `[data-lang="${savedLanguage}"]`
          );
          if (savedItem) {
            // Remove active from all items
            languageItems.forEach((lang) => lang.classList.remove("active"));

            // Set active on saved language
            savedItem.classList.add("active");

            // Update display
            const languageName =
              savedItem.querySelector(".font-semibold").textContent;
            const languageFlag = savedItem.querySelector("span").textContent;
            currentLanguage.textContent = languageName;
            currentLanguageFlag.textContent = languageFlag;
          }
        }
      });

      // Profile dropdown functionality
      const profileMenu = document.getElementById("profileMenu");
      const profileDropdown = document.getElementById("profileDropdown");

      // Toggle dropdown on click
      profileMenu.addEventListener("click", function (e) {
        e.stopPropagation();
        profileDropdown.classList.toggle("show");

        // Rotate chevron icon
        const chevron = profileMenu.querySelector(".fa-chevron-down");
        if (profileDropdown.classList.contains("show")) {
          chevron.style.transform = "rotate(180deg)";
        } else {
          chevron.style.transform = "rotate(0deg)";
        }
      });

      // Close dropdown when clicking outside
      document.addEventListener("click", function (e) {
        if (!profileMenu.contains(e.target)) {
          profileDropdown.classList.remove("show");

          // Reset chevron rotation
          const chevron = profileMenu.querySelector(".fa-chevron-down");
          chevron.style.transform = "rotate(0deg)";
        }
      });

      // Close dropdown when clicking on dropdown items
      const dropdownItems = document.querySelectorAll(".dropdown-item");
      dropdownItems.forEach((item) => {
        item.addEventListener("click", function (e) {
          // Don't close for logout link, let it navigate
          if (!this.href.includes("/login")) {
            e.preventDefault();
            profileDropdown.classList.remove("show");

            // Handle different menu items
            const text = this.textContent.trim();
            if (text.includes("My Profile")) {
              alert("Profile page coming soon!");
            } else if (text.includes("Settings")) {
              alert("Settings page coming soon!");
            } else if (text.includes("Progress")) {
              alert("Progress page coming soon!");
            } else if (text.includes("Achievements")) {
              alert("Achievements page coming soon!");
            } else if (text.includes("Help & Support")) {
              alert("Help & Support page coming soon!");
            }
          }
        });
      });

      // Prevent dropdown from closing when clicking inside it
      profileDropdown.addEventListener("click", function (e) {
        e.stopPropagation();
      });
    </script>
  </body>
</html>
